<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.9" />
<title>Cj-Types Extension Specification</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(2);
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>Cj-Types Extension Specification</h1>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_status">Status</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
Author
</dt>
<dd>
<p>
 Mike Amundsen, <a href="mailto:mca@amundsen.com">mca@amundsen.com</a>
</p>
</dd>
<dt class="hdlist1">
Status
</dt>
<dd>
<p>
  <strong><span class="white red-background">Working Draft</span></strong>&#8201;&#8212;&#8201;<em>Only experimental and &#8216;proof-of-concept&#8217; apps should be built on this unstable draft.</em>
</p>
</dd>
</dl></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Repository
</dt>
<dd>
<p>
  <a href="https://github.com/RWCBook/cj-types-spec">https://github.com/RWCBook/cj-types-spec</a>
</p>
</dd>
<dt class="hdlist1">
Last Updated
</dt>
<dd>
<p>
  2016-12-28
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_general">General</h2>
<div class="sectionbody">
<div class="paragraph"><p>This document describes a backward-compatible extension to the Collection+JSON <a href="#cj">[Cj]</a> media type created for the book <em>RESTful Web Clients</em> <a href="#rwcbook">[RWCBook]</a> by Mike Amundsen. This extension supports additional optional properties for Cj  <code>data[]</code> elements (within Cj <code>template</code> and <code>query</code> elements) in order to improve the user experience and provide additional rules to support better client-side data input validation.</p></div>
<div class="paragraph"><p>Below is an example of <em>some</em> of the new features enabled with the <strong>Cj-Types</strong> extension:</p></div>
<div class="listingblock">
<div class="title">Cj-Type Example</div>
<div class="content"><!-- Generator: GNU source-highlight 2.1.2
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #FF0000">"template"</span><span style="color: #990000">:</span> <span style="color: #FF0000">{</span>
  <span style="color: #FF0000">"prompt"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"Add User"</span><span style="color: #990000">,</span>
  <span style="color: #FF0000">"rel"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"create-form userAdd create-form"</span><span style="color: #990000">,</span>
  <span style="color: #FF0000">"data"</span><span style="color: #990000">:</span> <span style="color: #990000">[</span>
    <span style="color: #FF0000">{</span><span style="color: #FF0000">"name"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"nick"</span><span style="color: #990000">,</span><span style="color: #FF0000">"value"</span><span style="color: #990000">:</span> <span style="color: #FF0000">""</span><span style="color: #990000">,</span><span style="color: #FF0000">"prompt"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"Nickname"</span><span style="color: #990000">,</span>
      <span style="color: #FF0000">"type"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"text"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"required"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"true"</span><span style="color: #990000">,</span><span style="color: #FF0000">"pattern"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"[a-zA-Z0-9]+"</span><span style="color: #FF0000">}</span><span style="color: #990000">,</span>
    <span style="color: #FF0000">{</span><span style="color: #FF0000">"name"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"email"</span><span style="color: #990000">,</span><span style="color: #FF0000">"value"</span><span style="color: #990000">:</span> <span style="color: #FF0000">""</span><span style="color: #990000">,</span><span style="color: #FF0000">"prompt"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"Email"</span><span style="color: #990000">,</span>
      <span style="color: #FF0000">"type"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"email"</span><span style="color: #FF0000">}</span><span style="color: #990000">,</span>
    <span style="color: #FF0000">{</span><span style="color: #FF0000">"name"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"name"</span><span style="color: #990000">,</span><span style="color: #FF0000">"value"</span><span style="color: #990000">:</span> <span style="color: #FF0000">""</span><span style="color: #990000">,</span><span style="color: #FF0000">"prompt"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"Full Name"</span><span style="color: #990000">,</span>
      <span style="color: #FF0000">"type"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"text"</span><span style="color: #990000">,</span><span style="color: #FF0000">"required"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"true"</span><span style="color: #FF0000">}</span><span style="color: #990000">,</span>
    <span style="color: #FF0000">{</span><span style="color: #FF0000">"name"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"password"</span><span style="color: #990000">,</span><span style="color: #FF0000">"value"</span><span style="color: #990000">:</span> <span style="color: #FF0000">""</span><span style="color: #990000">,</span><span style="color: #FF0000">"prompt"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"Password"</span><span style="color: #990000">,</span>
      <span style="color: #FF0000">"type"</span><span style="color: #990000">:</span><span style="color: #FF0000">"password"</span><span style="color: #990000">,</span><span style="color: #FF0000">"required"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"true"</span><span style="color: #990000">,</span><span style="color: #FF0000">"pattern"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"[a-zA-Z0-9!@#$%^&amp;*-]+"</span><span style="color: #FF0000">}</span><span style="color: #990000">,</span>
    <span style="color: #FF0000">{</span><span style="color: #FF0000">"name"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"notes"</span><span style="color: #990000">,</span><span style="color: #FF0000">"value"</span><span style="color: #990000">:</span> <span style="color: #FF0000">""</span><span style="color: #990000">,</span><span style="color: #FF0000">"prompt"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"Notes"</span><span style="color: #990000">,</span>
      <span style="color: #FF0000">"type"</span><span style="color: #990000">:</span> <span style="color: #FF0000">"area"</span><span style="color: #990000">,</span><span style="color: #FF0000">"cols"</span><span style="color: #990000">:</span> <span style="color: #993399">40</span><span style="color: #990000">,</span><span style="color: #FF0000">"rows"</span><span style="color: #990000">:</span> <span style="color: #993399">5</span><span style="color: #FF0000">}</span>
  <span style="color: #990000">]</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
</div>
<div class="sect1">
<h2 id="_design_goals">Design Goals</h2>
<div class="sectionbody">
<div class="paragraph"><p>The goal of this extension is to improve the user input experience and to improve the machine-level validation of inputs before submitting them to the server for final validation and processing.</p></div>
<div class="sect2">
<h3 id="_updates">Updates</h3>
<div class="paragraph"><p>There is an open source repository <a href="#repo">[REPO]</a> for this specification. Readers are encouraged to submit updates via the repository any time.</p></div>
</div>
<div class="sect2">
<h3 id="_compliance">Compliance</h3>
<div class="paragraph"><p>An implementation is not compliant if it fails to satisfy one or more of the MUST or REQUIRED elements. An implementation that satisfies all the MUST and REQUIRED elements as well as all the SHOULD and RECOMMENDED elements is said to be "unconditionally compliant"; one that satisfies all the MUST and REQUIRED elements but not all the SHOULD and RECOMMENDED elements is said to be "conditionally compliant."</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph"><p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in RFC <a href="#rfc2119">[RFC2119]</a>.</p></div>
</td>
</tr></table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_cj_types">The Cj-Types</h2>
<div class="sectionbody">
<div class="paragraph"><p>The <strong>Cj-Types</strong> properties are a set of properties that can be added to Cj <code>data</code> elements when these <code>data</code> elements appear as child objects in <code>query</code> and <code>template</code> objects in Cj documents. All <strong>Cj-Type</strong> properties are OPTIONAL. When they do appear in Cj documents, these properties MUST be valid JSON <a href="#rfc4627">[RFC4627]</a> name-value pairs(e.g. <code>"NAME" : "VALUE"</code>).</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph"><p>The <strong>Cj-Types</strong> specification does not redefine existing Cj elements, remove any existing Cj elements, or create new REQUIRED Cj elements.</p></div>
</td>
</tr></table>
</div>
<div class="sect2">
<h3 id="_quick_view">Quick View</h3>
<div class="paragraph"><p>You can use <strong>Cj-Types</strong> properties to indicate additional constraints on displaying and validating the values for Cj <code>data</code> elements. These properties mirror similar properties in the HTML5 <code>&lt;input&gt;</code> specification <a href="#html5">[HTML5]</a> and can be used in the same way.</p></div>
<div class="paragraph"><p>Since all <strong>Cj-Types</strong> properties are OPTIONAL, they MAY be ignored completely. It is important that document authors understand that adding these properties to a Cj document does not ensure the receiver of that document will understand them or honor them. It is up to implementers to determine which of these OPTIONAL elements they wish to use and/or honor within Cj documents.</p></div>
</div>
<div class="sect2">
<h3 id="_details">Details</h3>
<div class="paragraph"><p>Here are the details of all the new properties for <code>data</code> elements defined in this specification:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>type</code>
</dt>
<dd>
<p>
The <code>type</code> property MAY appear within a <code>data</code> element: <code>data:{&#8230; "type":"text"}</code>. When the <code>type</code> property does appear, the value of the <code>type</code> property SHOULD be set to one of the <a href="#type-values">Type Values</a> listed in this specification. If the value is set to something other than one of the listed values or if the value is missing, then the value SHOULD be treated as <code>"text"</code>. If there is no <code>type</code> property or there is an error in resolving the value, then the value SHOULD be assumed to be <code>"text"</code>.
</p>
</dd>
<dt class="hdlist1">
<code>required</code>
</dt>
<dd>
<p>
Specifies that the <code>value</code> of a <code>data</code> element MUST be filled out before submitting the form. The required attribute works with the following input types: <code>text</code>, <code>search</code>, <code>url</code>, <code>tel</code>, <code>email</code>, <code>password</code>, <code>date</code>, <code>datetime-local</code>, <code>month</code>, <code>time</code>, <code>week</code>, <code>number</code>, and <code>file</code>. Valid values are <code>"true"</code> and <code>"false"</code>. If this property is missing, contains an invalid value, or the value cannot be resolved, then the property SHOULD be treated is if it is set to <code>"false"</code>.
</p>
</dd>
<dt class="hdlist1">
<code>readOnly</code>
</dt>
<dd>
<p>
Specifies that the <code>value</code> of a <code>data</code> element is read only (cannot be changed). Valid values are <code>"true"</code> and <code>"false"</code>. If this property is missing, contains an invalid value, or the value cannot be resolved, then the property SHOULD be treated is if it is set to <code>"false"</code>.
</p>
</dd>
<dt class="hdlist1">
<code>pattern</code>
</dt>
<dd>
<p>
Specifies a regular expression that the <code>data</code> element&#8217;s <code>value</code> property is checked against. The pattern attribute works with the following input types: <code>text</code>, <code>search</code>, <code>url</code>, <code>tel</code>, <code>email</code>, and <code>password</code>. The value of this field SHOULD be a valid Javascript Regular Expression (see <a href="#ecma262">ECMA262</a>). If the property contains an invalid value, or the value cannot be resolved, it SHOULD be ignored.
</p>
</dd>
<dt class="hdlist1">
<code>min</code> and <code>max</code>
</dt>
<dd>
<p>
Specifies the minimum and maximum values for the <code>value</code> of a <code>data</code> element. The min and max attributes work with the following input types: <code>number</code>, <code>range</code>, <code>date</code>, <code>datetime-local</code>, <code>month</code>, <code>time</code> and <code>week</code>. The property values SHOULD be in integer in the form of a string (e.g. <code>"5"</code>). If these properties contain an invalid value or the value cannot be resolved, they SHOULD be ignored. If either property is missing, it is up to the client application to establish the values for these properties.
</p>
</dd>
<dt class="hdlist1">
<code>maxlength</code>
</dt>
<dd>
<p>
Specifies the maximum allowed length for the <code>value</code> of a <code>data</code> element. The property value SHOULD be an integer in the form of a string (e.g. <code>"50"</code>). If this property contains an invalid value or the value cannot be resolved, this property SHOULD be ignored. If this property is missing, it is up to the client application to establish the maximum input length of Cj <code>value</code> field.
</p>
</dd>
<dt class="hdlist1">
<code>size</code>
</dt>
<dd>
<p>
Specifies the display size (in characters) for the <code>value</code> of a <code>data</code> element. It SHOULD contain an integer value in the form of a string (e.g. <code>"25"</code>). If this property contains an invalid value or the value cannot be resolved, this property SHOULD be ignored. If this property is missing, it is up to the client application to establish the display size of the input control. It is also up to the client application to establish a maximum display value and, if the property is set <em>above</em> that maximum display value, the client application SHOULD ignore the property value and use the maxium display value instead.
</p>
</dd>
<dt class="hdlist1">
<code>step</code>
</dt>
<dd>
<p>
Specifies the legal number intervals for the <code>value</code> of a <code>data</code> element. For example, if <code>step="3"</code>, legal numbers could be <code>-3</code>, <code>0</code>, <code>3</code>, <code>6</code>, etc. The value of this property SHOULD be an integer in the form of a string (e.g. <code>"3"</code>). The step attribute works with the following input types: <code>number</code>, <code>range</code>, <code>date</code>, <code>datetime-local</code>, <code>month</code>, <code>time</code> and <code>week</code>. If the property contains an invalid value or the value cannot be resolve, it should be ignored.
</p>
</dd>
<dt class="hdlist1">
<code>rows</code> and <code>cols</code>
</dt>
<dd>
<p>
The <code>rows</code> attribute specifies the visible number of lines in a <code>data</code> element with the <code>type</code> property set to <code>"textarea"</code>. The <code>cols</code> attribute specifies the visible width of a <code>data</code> element with the <code>type</code> property set to <code>"textarea"</code>. The value of these properties SHOULD be set to an integer in the form of a string (e.g. <code>"15"</code>). If these properties are applied to any other <code>data</code> element other than one with the <code>type</code> value set to <code>"textarea"</code> they SHOULD be ignored. In cases where the properties are applied to a <code>"textarea"</code> <code>data</code> element, ff these properties are missing, contains an invalid value, or the value cannot be resolved, it is up to the client application to determine the default values for these properties. It is also up to the client application to determine the minimum and maximum allowable values for these properties and to treat any provided values outside those ranges as invalid values.
</p>
</dd>
</dl></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="type-values">Type Values</h2>
<div class="sectionbody">
<div class="paragraph"><p>The following is a list of valid value for the <code>type</code> property. These MAY NOT all be supported by Cj clients. Any values <em>not</em> supported SHOULD be treated as if the value was set to <code>text</code> and displayed (and validated) accordingly.</p></div>
<div class="sect2">
<h3 id="_level_one_support">Level One Support</h3>
<div class="paragraph"><p>The following <code>type</code> values are considered "Level One." Any application that claims to support the <strong>Cj-Types</strong> extension SHOULD support all of the <code>type</code> values in this list.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
email
</dt>
<dd>
<p>
Defines a field for an e-mail address
</p>
</dd>
<dt class="hdlist1">
hidden
</dt>
<dd>
<p>
Defines a hidden input field
</p>
</dd>
<dt class="hdlist1">
number
</dt>
<dd>
<p>
Defines a field for entering a number
</p>
</dd>
<dt class="hdlist1">
password
</dt>
<dd>
<p>
Defines a password field (characters are masked)
</p>
</dd>
<dt class="hdlist1">
search
</dt>
<dd>
<p>
Defines a text field for entering a search string
</p>
</dd>
<dt class="hdlist1">
tel
</dt>
<dd>
<p>
Defines a field for entering a telephone number
</p>
</dd>
<dt class="hdlist1">
text
</dt>
<dd>
<p>
Default. Defines a single-line text field (default width is 20 characters)
</p>
</dd>
<dt class="hdlist1">
textarea
</dt>
<dd>
<p>
Defines a multi-line input field
</p>
</dd>
<dt class="hdlist1">
url
</dt>
<dd>
<p>
Defines a field for entering a URL
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_level_two_support">Level Two Support</h3>
<div class="paragraph"><p>The following <code>type</code> values are considered "Level Two." Any application that claims to support the <strong>Cj-Types</strong> extension MAY support one or more of the <code>type</code> values in this list.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
color
</dt>
<dd>
<p>
Defines a color picker
</p>
</dd>
<dt class="hdlist1">
date
</dt>
<dd>
<p>
Defines a date control (year, month and day (no time))
</p>
</dd>
<dt class="hdlist1">
datetime-local
</dt>
<dd>
<p>
Defines a date and time control (year, month, day, hour, minute, second, and fraction of a second (no time zone)
</p>
</dd>
<dt class="hdlist1">
month
</dt>
<dd>
<p>
Defines a month and year control (no time zone)
</p>
</dd>
<dt class="hdlist1">
week
</dt>
<dd>
<p>
Defines a week and year control (no time zone)
</p>
</dd>
<dt class="hdlist1">
time
</dt>
<dd>
<p>
Defines a control for entering a time (no time zone)
</p>
</dd>
<dt class="hdlist1">
range
</dt>
<dd>
<p>
Defines a control for entering a number whose exact value is not important (like a slider control)
</p>
</dd>
<dt class="hdlist1">
file
</dt>
<dd>
<p>
Defines a file-select field and a "Browse&#8230;" button (for file uploads)
</p>
</dd>
</dl></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references">References</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a id="rwcbook"></a> [RWCBook] Amundsen, M., "RESTful Web Clients", January 2017, <a href="http://g.mamund.com/rwcbook">http://g.mamund.com/rwcbook</a>
</p>
</li>
<li>
<p>
<a id="repo"></a> [REPO] Github, "Cj-Types-Spec", <a href="https://github.com/RWCBook/cj-types-spec">https://github.com/RWCBook/cj-types-spec</a>
</p>
</li>
<li>
<p>
<a id="cj"></a> [Cj] Amundsen, M., "Collection+JSON - Hypermedia Type", February 2013, <a href="http://amundsen.com/media-types/collection/">http://amundsen.com/media-types/collection/</a>
</p>
</li>
<li>
<p>
<a id="rfc2119"></a> [RFC2119] Bradner, S.,"Key words for use in RFCs to Indicate Requirement Levels", March 1997, <a href="http://tools.ietf.org/html/rfc2119">http://tools.ietf.org/html/rfc2119</a>
</p>
</li>
<li>
<p>
<a id="rfc4627"></a> [RFC4627] D. Crockford, "The application/json Media Type for JavaScript Object Notation (JSON)", July 2006, <a href="http://tools.ietf.org/html/rfc4627">http://tools.ietf.org/html/rfc4627</a>
</p>
</li>
<li>
<p>
<a id="html5"></a> [HTML5], Hickson, et al, "4.10.5 The input element", October 2014, <a href="https://www.w3.org/TR/html5/forms.html#the-input-element">https://www.w3.org/TR/html5/forms.html#the-input-element</a>
</p>
</li>
<li>
<p>
<a id="ecma262"></a> [ECMA262]  Ecma International, "ECMAScript Language Specification - ECMA-262 - 5.1 Edition", June 2011, <a href="https://people-mozilla.org/~jorendorff/es5.1-final.html#sec-15.10">https://people-mozilla.org/~jorendorff/es5.1-final.html#sec-15.10</a>
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2016-12-28 22:22:46 Eastern Standard Time
</div>
</div>
</body>
</html>
